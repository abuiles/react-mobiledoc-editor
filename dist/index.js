!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("mobiledoc-kit"),require("react-dom")):"function"==typeof define&&define.amd?define("ReactMobiledocEditor",["react","mobiledoc-kit","react-dom"],t):"object"==typeof exports?exports.ReactMobiledocEditor=t(require("react"),require("mobiledoc-kit"),require("react-dom")):e.ReactMobiledocEditor=t(e.react,e["mobiledoc-kit"],e["react-dom"])}(this,function(e,t,r){return function(e){function t(o){if(r[o])return r[o].exports;var a=r[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(11)},function(t,r){t.exports=e},function(e,t,r){var o,a;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o))e.push(r.apply(null,o));else if("object"===a)for(var i in o)n.call(o,i)&&o[i]&&e.push(i)}}return e.join(" ")}var n={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=r:(o=[],a=function(){return r}.apply(t,o),!(void 0!==a&&(e.exports=a)))}()},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},i=r(1),l=o(i),u=r(2),c=o(u),s=r(7),d=function(e,t){var r=t.editor,o=t.activeMarkupTags,i=void 0===o?[]:o,u=e.children,d=void 0===u?"Link":u,p=e.className,f=a(e,["children","className"]),v=function(){r.hasCursor()&&(r.hasActiveMarkup("a")?r.toggleMarkup("a"):s.UI.toggleLink(r))};return p=(0,c.default)(p,{active:i.indexOf("a")>-1}),f=n({},f,{onClick:v,className:p}),l.default.createElement("button",f,d)};d.propTypes={children:l.default.PropTypes.node},d.contextTypes={editor:l.default.PropTypes.object,activeMarkupTags:l.default.PropTypes.array},t.default=d},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},i=r(1),l=o(i),u=r(2),c=o(u),s=r(6),d=o(s),p=function(e,t){var r=t.editor,o=t.activeMarkupTags,i=void 0===o?[]:o,u=e.tag,s=void 0===u?"":u,p=e.children,f=void 0===p?(0,d.default)(s):p,v=e.className,y=a(e,["tag","children","className"]),h=function(){return r.toggleMarkup(s)};return v=(0,c.default)(v,{active:i.indexOf(s.toLowerCase())>-1}),y=n({},y,{onClick:h,className:v}),l.default.createElement("button",y,f)};p.propTypes={tag:l.default.PropTypes.string.isRequired,children:l.default.PropTypes.node},p.contextTypes={editor:l.default.PropTypes.object,activeMarkupTags:l.default.PropTypes.array},t.default=p},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},i=r(1),l=o(i),u=r(2),c=o(u),s=r(6),d=o(s),p=function(e,t){var r=t.editor,o=t.activeSectionTags,i=void 0===o?[]:o,u=e.tag,s=void 0===u?"":u,p=e.children,f=void 0===p?(0,d.default)(s):p,v=e.className,y=a(e,["tag","children","className"]),h=function(){return r.toggleSection(s)};return v=(0,c.default)(v,{active:i.indexOf(s.toLowerCase())>-1}),y=n({},y,{onClick:h,className:v}),l.default.createElement("button",y,f)};p.propTypes={tag:l.default.PropTypes.string.isRequired,children:l.default.PropTypes.node},p.contextTypes={editor:l.default.PropTypes.object,activeSectionTags:l.default.PropTypes.array},t.default=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return""+e.charAt(0).toUpperCase()+e.slice(1)}},function(e,r){e.exports=t},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_MOBILEDOC=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},i=r(1),l=o(i),u=r(7),c=o(u),s=t.EMPTY_MOBILEDOC={version:"0.3.0",markups:[],atoms:[],cards:[],sections:[]},d=l.default.createClass({displayName:"Container",propTypes:{atoms:l.default.PropTypes.array,autofocus:l.default.PropTypes.bool,cards:l.default.PropTypes.array,didCreateEditor:l.default.PropTypes.func,html:l.default.PropTypes.string,mobiledoc:l.default.PropTypes.object,onChange:l.default.PropTypes.func,options:l.default.PropTypes.object,placeholder:l.default.PropTypes.string,serializeVersion:l.default.PropTypes.string,spellcheck:l.default.PropTypes.bool,willCreateEditor:l.default.PropTypes.func},childContextTypes:{editor:l.default.PropTypes.object,activeMarkupTags:l.default.PropTypes.array,activeSectionTags:l.default.PropTypes.array},getDefaultProps:function(){return{atoms:[],autofocus:!0,cardProps:{},cards:[],placeholder:"",serializeVersion:"0.3.0",spellcheck:!0}},getInitialState:function(){return{activeMarkupTags:[],activeSectionTags:[]}},getChildContext:function(){return{editor:this.editor,activeMarkupTags:this.state.activeMarkupTags,activeSectionTags:this.state.activeSectionTags}},componentWillMount:function(){var e=this;"function"==typeof this.props.willCreateEditor&&this.props.willCreateEditor();var t=this.props.mobiledoc||s,r=this.props,o=r.atoms,a=r.autofocus,i=r.cardProps,l=r.cards,u=r.html,d=r.placeholder,p=r.serializeVersion,f=r.spellcheck,v=n({},this.props.options,{atoms:o,autofocus:a,cardOptions:{cardProps:i},cards:l,html:u,mobiledoc:t,placeholder:d,serializeVersion:p,spellcheck:f});this.editor=new c.default.Editor(v),this.editor.inputModeDidChange(this.setActiveTags),"function"==typeof this.props.onChange&&this.editor.postDidChange(function(){var t=e.editor.serialize(e.props.serializeVersion);e.props.onChange(t)}),"function"==typeof this.props.didCreateEditor&&this.props.didCreateEditor(this.editor)},componentWillUnmount:function(){this.editor.destroy()},render:function(){var e=this.props,t=(e.atoms,e.autofocus,e.cardProps,e.cards,e.children),r=(e.didCreateEditor,e.html,e.mobiledoc,e.options,e.placeholder,e.serializeVersion,e.spellcheck,e.willCreateEditor,a(e,["atoms","autofocus","cardProps","cards","children","didCreateEditor","html","mobiledoc","options","placeholder","serializeVersion","spellcheck","willCreateEditor"]));return l.default.createElement("div",r,t)},setActiveTags:function(){this.setState({activeMarkupTags:this.editor.activeMarkups.map(function(e){return e.tagName}),activeSectionTags:this.editor.activeSections.map(function(e){return e.isNested?e.parent.tagName:e.tagName})})}});t.default=d},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=r(1),i=o(n),l=i.default.createClass({displayName:"Editor",contextTypes:{editor:i.default.PropTypes.object},componentDidMount:function(){var e=this.context.editor;e&&e.render(this.refs.editor)},render:function(){var e=a({},this.props,{ref:"editor"});return i.default.createElement("div",e)}});t.default=l},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=o(a),i=r(4),l=o(i),u=r(5),c=o(u),s=r(3),d=o(s),p=function(e){return n.default.createElement("ul",e,n.default.createElement("li",null,n.default.createElement(l.default,{tag:"strong"})),n.default.createElement("li",null,n.default.createElement(l.default,{tag:"em"})),n.default.createElement("li",null,n.default.createElement(d.default,null)),n.default.createElement("li",null,n.default.createElement(c.default,{tag:"h1"})),n.default.createElement("li",null,n.default.createElement(c.default,{tag:"h2"})),n.default.createElement("li",null,n.default.createElement(c.default,{tag:"blockquote"})),n.default.createElement("li",null,n.default.createElement(c.default,{tag:"pull-quote"})),n.default.createElement("li",null,n.default.createElement(c.default,{tag:"ul"})),n.default.createElement("li",null,n.default.createElement(c.default,{tag:"ol"})))};t.default=p},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=t.SectionButton=t.MarkupButton=t.LinkButton=t.EMPTY_MOBILEDOC=t.Editor=t.Container=t.classToDOMCard=void 0;var a=r(12),n=r(8),i=o(n),l=r(9),u=o(l),c=r(3),s=o(c),d=r(4),p=o(d),f=r(5),v=o(f),y=r(10),h=o(y);t.classToDOMCard=a.classToDOMCard,t.Container=i.default,t.Editor=u.default,t.EMPTY_MOBILEDOC=n.EMPTY_MOBILEDOC,t.LinkButton=s.default,t.MarkupButton=p.default,t.SectionButton=v.default,t.Toolbar=h.default},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.classToDOMCard=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=r(1),i=o(n),l=r(13),u=o(l),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(r){var o=r.env,n=r.options,l=r.payload,c=document.createElement("div");c.contenteditable="false";var s=o.didRender,d=o.onTeardown;return s(function(){l=a({},l);var r=n.cardProps,s=i.default.createElement(e,a({},o,r,{payload:l,isEditing:t}));u.default.render(s,c)}),d(function(){return u.default.unmountComponentAtNode(c)}),c}};t.classToDOMCard=function(e,t){if(!t&&"undefined"==typeof e.displayName)throw new Error("Can't create card from component, no displayName defined: "+e);return{name:t||e.displayName,component:e,type:"dom",render:c(e),edit:c(e,!0)}}},function(e,t){e.exports=r}])});